Riddler Work
================

Riddler Express
---------------

From 538:

> I was recently traveling in Europe and struck by the number of coins the euro uses. They have 2 euro, 1 euro, 50 cent, 20 cent, 10 cent, 5 cent, 2 cent and 1 cent coins. This got me thinking: If Riddler Nation needed to make change (anywhere from 0.01 to 0.99) and was establishing its own mint, what values of coins would be ideal to yield the smallest number of coins in any transaction? When picking values, let’s say we’re ditching the Europeans and limiting our mint to four different coin denominations — replacing the current common American ones of penny, nickel, dime and quarter.

**Solution:** Out of curiousity, I first wanted to see the number of coins that are required to make all denominations of 1 through 99 cents using American coins. Using the American system, you need a minimum of **9 coins** to ensure you can make change for 1 through 99 cents. Using a **winning coin combination of 1, 7, 20, and 30 cents**, we can lower than number down to **7 coins**.

``` r
coin_checker <- function(coins){
  
  # Create a dataset that will act like a pocket of coins, and you
  # draw out n coins using rollsum. Sample size 1e5 should be enough
  # to cover all bases
  coin_df <- 
    data.frame(rs1 = sample(coins, size = 1e5, replace = T)) %>%
    mutate(rs2 = rollsum(rs1, 2, fill = NA, align = 'left'),
           rs3 = rollsum(rs1, 3, fill = NA, align = 'left'),
           rs4 = rollsum(rs1, 4, fill = NA, align = 'left'),
           rs5 = rollsum(rs1, 5, fill = NA, align = 'left'),
           rs6 = rollsum(rs1, 6, fill = NA, align = 'left'),
           rs7 = rollsum(rs1, 7, fill = NA, align = 'left'),
           rs8 = rollsum(rs1, 8, fill = NA, align = 'left'),
           rs9 = rollsum(rs1, 9, fill = NA, align = 'left'))
  
  return_df <- data.frame(cents = 1:99)
  
  for(r in 1:99){
    
    roll_sum_index <- 1
    index <- NA
    
    while(is.na(index)){
      index <- which(coin_df[[paste0('rs', roll_sum_index)]] == r)[1]
      roll_sum_index <- roll_sum_index + 1
    }
    return_df[r, 'coin_vals'] <- 
      paste(coin_df$rs1[index:(index + roll_sum_index - 2)] %>% sort, collapse = ', ')
  }
  
  return_df %<>% mutate(num_coins = str_count(coin_vals, ',') + 1)
  cat('Coins required:', max(return_df$num_coins))
  
  return(return_df)
}
```

``` r
# American Coins
coin_checker(c(1, 5, 10, 25))
```

    ## Coins required: 9

    ##    cents                      coin_vals num_coins
    ## 1      1                              1         1
    ## 2      2                           1, 1         2
    ## 3      3                        1, 1, 1         3
    ## 4      4                     1, 1, 1, 1         4
    ## 5      5                              5         1
    ## 6      6                           1, 5         2
    ## 7      7                        1, 1, 5         3
    ## 8      8                     1, 1, 1, 5         4
    ## 9      9                  1, 1, 1, 1, 5         5
    ## 10    10                             10         1
    ## 11    11                          1, 10         2
    ## 12    12                       1, 1, 10         3
    ## 13    13                    1, 1, 1, 10         4
    ## 14    14                 1, 1, 1, 1, 10         5
    ## 15    15                          5, 10         2
    ## 16    16                       1, 5, 10         3
    ## 17    17                    1, 1, 5, 10         4
    ## 18    18                 1, 1, 1, 5, 10         5
    ## 19    19              1, 1, 1, 1, 5, 10         6
    ## 20    20                         10, 10         2
    ## 21    21                      1, 10, 10         3
    ## 22    22                   1, 1, 10, 10         4
    ## 23    23                1, 1, 1, 10, 10         5
    ## 24    24             1, 1, 1, 1, 10, 10         6
    ## 25    25                             25         1
    ## 26    26                          1, 25         2
    ## 27    27                       1, 1, 25         3
    ## 28    28                    1, 1, 1, 25         4
    ## 29    29                 1, 1, 1, 1, 25         5
    ## 30    30                          5, 25         2
    ## 31    31                       1, 5, 25         3
    ## 32    32                    1, 1, 5, 25         4
    ## 33    33                 1, 1, 1, 5, 25         5
    ## 34    34              1, 1, 1, 1, 5, 25         6
    ## 35    35                         10, 25         2
    ## 36    36                      1, 10, 25         3
    ## 37    37                   1, 1, 10, 25         4
    ## 38    38                1, 1, 1, 10, 25         5
    ## 39    39             1, 1, 1, 1, 10, 25         6
    ## 40    40                      5, 10, 25         3
    ## 41    41                   1, 5, 10, 25         4
    ## 42    42                1, 1, 5, 10, 25         5
    ## 43    43             1, 1, 1, 5, 10, 25         6
    ## 44    44          1, 1, 1, 1, 5, 10, 25         7
    ## 45    45                     10, 10, 25         3
    ## 46    46                  1, 10, 10, 25         4
    ## 47    47               1, 1, 10, 10, 25         5
    ## 48    48            1, 1, 1, 10, 10, 25         6
    ## 49    49         1, 1, 1, 1, 10, 10, 25         7
    ## 50    50                         25, 25         2
    ## 51    51                      1, 25, 25         3
    ## 52    52                   1, 1, 25, 25         4
    ## 53    53                1, 1, 1, 25, 25         5
    ## 54    54             1, 1, 1, 1, 25, 25         6
    ## 55    55                      5, 25, 25         3
    ## 56    56                   1, 5, 25, 25         4
    ## 57    57                1, 1, 5, 25, 25         5
    ## 58    58             1, 1, 1, 5, 25, 25         6
    ## 59    59          1, 1, 1, 1, 5, 25, 25         7
    ## 60    60                     10, 25, 25         3
    ## 61    61                  1, 10, 25, 25         4
    ## 62    62               1, 1, 10, 25, 25         5
    ## 63    63            1, 1, 1, 10, 25, 25         6
    ## 64    64         1, 1, 1, 1, 10, 25, 25         7
    ## 65    65                  5, 10, 25, 25         4
    ## 66    66               1, 5, 10, 25, 25         5
    ## 67    67            1, 1, 5, 10, 25, 25         6
    ## 68    68         1, 1, 1, 5, 10, 25, 25         7
    ## 69    69      1, 1, 1, 1, 5, 10, 25, 25         8
    ## 70    70                 10, 10, 25, 25         4
    ## 71    71              1, 10, 10, 25, 25         5
    ## 72    72           1, 1, 10, 10, 25, 25         6
    ## 73    73        1, 1, 1, 10, 10, 25, 25         7
    ## 74    74     1, 1, 1, 1, 10, 10, 25, 25         8
    ## 75    75                     25, 25, 25         3
    ## 76    76                  1, 25, 25, 25         4
    ## 77    77               1, 1, 25, 25, 25         5
    ## 78    78            1, 1, 1, 25, 25, 25         6
    ## 79    79         1, 1, 1, 1, 25, 25, 25         7
    ## 80    80                  5, 25, 25, 25         4
    ## 81    81               1, 5, 25, 25, 25         5
    ## 82    82            1, 1, 5, 25, 25, 25         6
    ## 83    83         1, 1, 1, 5, 25, 25, 25         7
    ## 84    84      1, 1, 1, 1, 5, 25, 25, 25         8
    ## 85    85                 10, 25, 25, 25         4
    ## 86    86              1, 10, 25, 25, 25         5
    ## 87    87           1, 1, 10, 25, 25, 25         6
    ## 88    88        1, 1, 1, 10, 25, 25, 25         7
    ## 89    89     1, 1, 1, 1, 10, 25, 25, 25         8
    ## 90    90              5, 10, 25, 25, 25         5
    ## 91    91           1, 5, 10, 25, 25, 25         6
    ## 92    92        1, 1, 5, 10, 25, 25, 25         7
    ## 93    93     1, 1, 1, 5, 10, 25, 25, 25         8
    ## 94    94  1, 1, 1, 1, 5, 10, 25, 25, 25         9
    ## 95    95             10, 10, 25, 25, 25         5
    ## 96    96          1, 10, 10, 25, 25, 25         6
    ## 97    97       1, 1, 10, 10, 25, 25, 25         7
    ## 98    98    1, 1, 1, 10, 10, 25, 25, 25         8
    ## 99    99 1, 1, 1, 1, 10, 10, 25, 25, 25         9

``` r
# New System
coin_checker(c(1, 7, 20, 30))
```

    ## Coins required: 7

    ##    cents              coin_vals num_coins
    ## 1      1                      1         1
    ## 2      2                   1, 1         2
    ## 3      3                1, 1, 1         3
    ## 4      4             1, 1, 1, 1         4
    ## 5      5          1, 1, 1, 1, 1         5
    ## 6      6       1, 1, 1, 1, 1, 1         6
    ## 7      7                      7         1
    ## 8      8                   1, 7         2
    ## 9      9                1, 1, 7         3
    ## 10    10             1, 1, 1, 7         4
    ## 11    11          1, 1, 1, 1, 7         5
    ## 12    12       1, 1, 1, 1, 1, 7         6
    ## 13    13    1, 1, 1, 1, 1, 1, 7         7
    ## 14    14                   7, 7         2
    ## 15    15                1, 7, 7         3
    ## 16    16             1, 1, 7, 7         4
    ## 17    17          1, 1, 1, 7, 7         5
    ## 18    18       1, 1, 1, 1, 7, 7         6
    ## 19    19    1, 1, 1, 1, 1, 7, 7         7
    ## 20    20                     20         1
    ## 21    21                  1, 20         2
    ## 22    22               1, 1, 20         3
    ## 23    23            1, 1, 1, 20         4
    ## 24    24         1, 1, 1, 1, 20         5
    ## 25    25      1, 1, 1, 1, 1, 20         6
    ## 26    26   1, 1, 1, 1, 1, 1, 20         7
    ## 27    27                  7, 20         2
    ## 28    28               1, 7, 20         3
    ## 29    29            1, 1, 7, 20         4
    ## 30    30                     30         1
    ## 31    31                  1, 30         2
    ## 32    32               1, 1, 30         3
    ## 33    33            1, 1, 1, 30         4
    ## 34    34               7, 7, 20         3
    ## 35    35            1, 7, 7, 20         4
    ## 36    36         1, 1, 7, 7, 20         5
    ## 37    37                  7, 30         2
    ## 38    38               1, 7, 30         3
    ## 39    39            1, 1, 7, 30         4
    ## 40    40                 20, 20         2
    ## 41    41              1, 20, 20         3
    ## 42    42           1, 1, 20, 20         4
    ## 43    43        1, 1, 1, 20, 20         5
    ## 44    44               7, 7, 30         3
    ## 45    45            1, 7, 7, 30         4
    ## 46    46         1, 1, 7, 7, 30         5
    ## 47    47              7, 20, 20         3
    ## 48    48           1, 7, 20, 20         4
    ## 49    49        1, 1, 7, 20, 20         5
    ## 50    50                 20, 30         2
    ## 51    51              1, 20, 30         3
    ## 52    52           1, 1, 20, 30         4
    ## 53    53        1, 1, 1, 20, 30         5
    ## 54    54           7, 7, 20, 20         4
    ## 55    55        1, 7, 7, 20, 20         5
    ## 56    56     1, 1, 7, 7, 20, 20         6
    ## 57    57              7, 20, 30         3
    ## 58    58           1, 7, 20, 30         4
    ## 59    59        1, 1, 7, 20, 30         5
    ## 60    60                 30, 30         2
    ## 61    61              1, 30, 30         3
    ## 62    62           1, 1, 30, 30         4
    ## 63    63        1, 1, 1, 30, 30         5
    ## 64    64           7, 7, 20, 30         4
    ## 65    65        1, 7, 7, 20, 30         5
    ## 66    66     1, 1, 7, 7, 20, 30         6
    ## 67    67              7, 30, 30         3
    ## 68    68           1, 7, 30, 30         4
    ## 69    69        1, 1, 7, 30, 30         5
    ## 70    70             20, 20, 30         3
    ## 71    71          1, 20, 20, 30         4
    ## 72    72       1, 1, 20, 20, 30         5
    ## 73    73    1, 1, 1, 20, 20, 30         6
    ## 74    74           7, 7, 30, 30         4
    ## 75    75        1, 7, 7, 30, 30         5
    ## 76    76     1, 1, 7, 7, 30, 30         6
    ## 77    77          7, 20, 20, 30         4
    ## 78    78       1, 7, 20, 20, 30         5
    ## 79    79    1, 1, 7, 20, 20, 30         6
    ## 80    80             20, 30, 30         3
    ## 81    81          1, 20, 30, 30         4
    ## 82    82       1, 1, 20, 30, 30         5
    ## 83    83    1, 1, 1, 20, 30, 30         6
    ## 84    84       7, 7, 20, 20, 30         5
    ## 85    85    1, 7, 7, 20, 20, 30         6
    ## 86    86 1, 1, 7, 7, 20, 20, 30         7
    ## 87    87          7, 20, 30, 30         4
    ## 88    88       1, 7, 20, 30, 30         5
    ## 89    89    1, 1, 7, 20, 30, 30         6
    ## 90    90             30, 30, 30         3
    ## 91    91          1, 30, 30, 30         4
    ## 92    92       1, 1, 30, 30, 30         5
    ## 93    93    1, 1, 1, 30, 30, 30         6
    ## 94    94       7, 7, 20, 30, 30         5
    ## 95    95    1, 7, 7, 20, 30, 30         6
    ## 96    96 1, 1, 7, 7, 20, 30, 30         7
    ## 97    97          7, 30, 30, 30         4
    ## 98    98       1, 7, 30, 30, 30         5
    ## 99    99    1, 1, 7, 30, 30, 30         6

Riddler
-------
